# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Email –ø–æ–¥–ø–∏—Å–æ–∫

## üéØ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Vercel Postgres**

–î–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ **ai-regulation** –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç **Vercel Postgres**, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 60 —á–∞—Å–æ–≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –º–µ—Å—è—Ü
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Vercel –≤ –æ–¥–∏–Ω –∫–ª–∏–∫
- ‚úÖ PostgreSQL - –Ω–∞–¥–µ–∂–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

## üöÄ **–ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**

### **–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://vercel.com/dashboard
2. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç **ai-regulation**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Storage** ‚Üí **Create Database**
4. –í—ã–±–µ—Ä–∏—Ç–µ **Postgres**
5. –ù–∞–∑–æ–≤–∏—Ç–µ –±–∞–∑—É: `ai-regulation-emails`
6. –ù–∞–∂–º–∏—Ç–µ **Create**

### **–®–∞–≥ 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `POSTGRES_URL` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `POSTGRES_PRISMA_URL` - –¥–ª—è Prisma ORM
- `POSTGRES_URL_NON_POOLING` - –±–µ–∑ –ø—É–ª–∏–Ω–≥–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `POSTGRES_USER` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POSTGRES_HOST` - —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `POSTGRES_PASSWORD` - –ø–∞—Ä–æ–ª—å
- `POSTGRES_DATABASE` - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### **–®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

```bash
# –î–µ–ø–ª–æ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
npm run build
git add .
git commit -m "Add database integration"
git push origin main
```

–ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ: `https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/test-db`

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏.

### **–®–∞–≥ 4: –ü–µ—Ä–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞**

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –Ω–∞ —Å–∞–π—Ç–µ. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—É `email_subscriptions` –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç email –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
3. –û—Ç–ø—Ä–∞–≤–∏—Ç –≤ ConvertKit (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

## üìä **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

–¢–∞–±–ª–∏—Ü–∞ `email_subscriptions` —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `email` - email –∞–¥—Ä–µ—Å (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `timestamp` - –≤—Ä–µ–º—è –ø–æ–¥–ø–∏—Å–∫–∏
- `source` - –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ–¥–ø–∏—Å–∫–∏
- `ip` - IP –∞–¥—Ä–µ—Å
- `user_agent` - –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `status` - —Å—Ç–∞—Ç—É—Å (active/unsubscribed)
- `first_name` - –∏–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `last_name` - —Ñ–∞–º–∏–ª–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `tags` - —Ç–µ–≥–∏ (–º–∞—Å—Å–∏–≤)
- `convertkit_id` - ID –≤ ConvertKit
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## üîß **–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

### **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤**
```sql
SELECT * FROM email_subscriptions WHERE status = 'active';
```

### **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º**
```sql
SELECT source, COUNT(*) as count 
FROM email_subscriptions 
WHERE status = 'active' 
GROUP BY source;
```

### **–≠–∫—Å–ø–æ—Ä—Ç email –∞–¥—Ä–µ—Å–æ–≤**
```sql
SELECT email FROM email_subscriptions WHERE status = 'active';
```

## üéõÔ∏è **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å**

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
- –û–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–¥–ø–∏—Å–æ–∫
- –†–∞–∑–±–∏–≤–∫—É –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ email –∞–¥—Ä–µ—Å–æ–≤

–î–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/admin/emails`

## üîÑ **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ fallback, –µ—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.

## üÜì **–õ–∏–º–∏—Ç—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∞**

**Vercel Postgres Free:**
- 60 —á–∞—Å–æ–≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –º–µ—Å—è—Ü
- 256MB —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- 10,000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å

–≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è:
- ~50,000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- ~300 –ø–æ–¥–ø–∏—Å–æ–∫ –≤ –¥–µ–Ω—å
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–∞–π—Ç–∞

## üîÑ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ)**

### **Supabase** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞)
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 500MB
- 2GB —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –º–µ—Å—è—Ü
- Real-time —Ñ—É–Ω–∫—Ü–∏–∏

### **PlanetScale** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤)
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 1GB
- 1 –º–∏–ª–ª–∏–∞—Ä–¥ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–µ—Å—è—Ü
- MySQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ **–ß—Ç–æ –¥–∞–ª—å—à–µ?**

1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ Vercel
2. –°–¥–µ–ª–∞–π—Ç–µ –¥–µ–ø–ª–æ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üÜò **–ü–æ–º–æ—â—å**

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/api/test-db` - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ –∏ –∞–∫—Ç–∏–≤–Ω–∞ 